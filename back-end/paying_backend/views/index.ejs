
<!--
    based on format of index.ejs in https://github.com/for2gles/realtime-chat/blob/8e701b1f69b659ebb9f6de48b5c291166be89da1/
-->
<html>
    <head>
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">

        <link href="/style.css" type="text/css" rel="stylesheet">
        <script src="https://cdn.socket.io/3.1.3/socket.io.min.js" integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh" crossorigin="anonymous"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    </head>
    
    <body>
        <div class="container">
            <h3 class=" text-center">Alarm</h3>
            <div class="messaging">
                <div class="inbox_msg">

                    <div class="mesgs">
                        <div class="msg_history chat">
                        </div>
                        
                    </div>
                </div>
            

            </div>
        </div>
    </body>

    <script>
        const socket = io('http://192.168.88.110:5000');
        socket.on('connect', function() {
            console.log('Connected');

        });
        socket.on('getMessage', function({id, nickname, message}) {
            let html = '';
            html += '<div class="incoming_msg"><div class="received_msg"><div class="received_withd_msg"><p>'+message+'</p><br /></div></div></div>';
            $('.chat').append(html);
            $('.chat').scrollTop($('.chat')[0].scrollHeight);
        });

        socket.on('disconnect', function() {
            console.log('Disconnected');
        });
    </script>
</html>